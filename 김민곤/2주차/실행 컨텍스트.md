# Chapter 2 실행 컨텍스트

## 실행 컨텍스트란?
- **실행할 코드에 제공할 환경 정보들을 모아놓은 객체로**, 자바스크립트의 동적 언어로서의 성격을 가장 잘 파악할 수 있는 개념입니다.

- 어떤 실행 컨텍스트가 활성화되는 시점에 선언된 변수를 위로 끌어올리고(호이스팅), 외부 환경 정보를 구성하고,this 값을 설정하는 등의 동작을 수행한다.

- 동일한 환경(전역공간, eval()함수 ,함수)에 있는 코드들을 실행할 때 필요한 환경 정보들을 모아 컨텍스트를 구성하고,
- 이를 콜 스택에 쌓아올렸다가, 가장 위에 쌓여있는 컨텍스트와 관련 있는 코드들을 실행하는 식으로 전체 코드의 환경과 순서를 보장.

- 우리가 흔히 실행 컨텍스트를 구성하는 방법은 함수를 실행하는 것뿐이다.

  ```javascript
  var a = 1;
  function outer() {
    function inner() {
      console.log(a); // undefined
      var a = 3;
    }
    inner(); //  ---------------- (2)
    console.log(a); // 1
  }
  outer(); //  ------------------- (3)
  console.log(a);

  ```

![Group 36](https://github.com/user-attachments/assets/5da4bf9f-6f63-4075-a152-be308bcf9535)

- 실행 컨텍스트가 콜 스택의 맨 위에 쌓이는 순간이 곧 현재 실행할 코드에 관여하게된느 시점임을 알 수 있습니다.
- 어떤 실행 컨텍스트가 활성화될 때 자바스크립트 엔진은 해당 컨텍스트에 관련된 코드들을 실행하는 데 필요한 환경 정보들을 수집해서 실행 컨텍스트 객체에 저장합니다.

## VariableEnvironment , LexicalEnvironment, ThisBinding
- VariableEnvironment는 주로 함수의 초기 상태(초기화)를 담당하며 var로 선언된 변수만을 포함합니다.
- LexicalEnvironment는 함수 실행 중에 변할 수 있는 환경으로, let, const로 선언된 변수와 함수 표현식 등을 포함합니다.
- ThisBinding는 실행 컨텍스트 내에서 'this'키워드가 가리키는 값을 결정합니다. 이는 함수 호출 방식에 따라 달라집니다.

## 호이스팅이란?
- **'끌어올리다' **의미인 hoist에 ing를 붙여 만든 동명사로, 변수 정보를 수집하는 과정을 더욱 이해하기 쉬운 방법으로 대체한 **가상의 개념**입니다.
- 호이스팅 규칙
  - 1. 변수를 호이스팅할 때 변수명만 끌어올리고 할당 과정은 원래 자리에 그대로 남겨둡니다.
    2. 함수 선언은 함수 전체를 끌어올린다.
    3. 함수 표현식은 변수 선언부만 호이스팅 한다. (함수도 하나의 값으로 취급)
- 호이스팅으로 인한 주의 사항
    1. 동일한 변수명에 서로 다른 값을 할당할 경우 나중에 할당한 값이 먼저 할당한 값을 덮어씌웁니다.(2-12)
       - 코드를 실행하는 중에 실제로 호출되는 함수는 맨 마지막에 선언된 함수 뿐이다.
    2. 원활한 협업을 위해서는 전역공간에 함수를 선언하거나 동명의 함수를 중복 선언하는 경우는 없어야 한다.
    3. 모든 함수가 함수 표현식으로 정의되어 있었다면 위와 같은 상황은 일어나지 않았을 것입니다.
