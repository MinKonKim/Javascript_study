# 1-1. 데이터 타입의 종류

- 자바스크립트의 `데이터 타입`은 크게 2가지가 있다.
    - `기본형`
    - `참조형`
<br/>
 
- `기본형`: 숫자, 문자열, Boolean, null, undefined, 심볼(ES6)
- `참조형`: 객체, 배열, 함수, 날짜, 정규표현식, Map(ES6), WeakMap(ES6), Set(ES6), WeakSet(ES6)
<br/>

## 기본형 VS 참조형
- 일반적으로 기본형은 할당이나 연산시 복제되고 참조형은 참조된다고 알려져 있다.
- 엄밀히 말하면 둘다 모두 복제를 하긴한다.
- 다만 기본형은 값이 담긴 주솟값을 바로 복제하는 반면,
- 참조형은 값이 담긴 주솟값들로 이루어진 묶음을 가리키는 주솟값을 복제한다는 점이 다르다.
<br/>

## 기본형은 불변성을 띕니다.
- 기본형은 숫자 10을 담은 변수에 다시 숫자 15를 담으면 a의 값은 문제없이 15로 변하는데,
- "변하지 않는다."는게 어떤 의미일까요?
- 불변성을 잘 이해하려면 개략적으로나마 메모리와 데이터에 대한 지식이 필요하고,
- '식별자'와 '변수'의 개념을 구분할 수 있어야 합니다.
<br/>

# 1-2. 데이터 타입에 관한 배경지식

## 1-2-1 메모리와 데이터
- 각 비트는 고유한 식별자(메모리 주솟값)를 지닌다고 하였다.
- 바이트 역시 시작하는 비트의 식별자로 위치를 파악할 수 있다.
- 모든 데이터는 바이트 단위의 식별자, 더 정확하게는 메모리 주솟값을 통해 서로 구분하고 연결할 수 있다.
<br/>

## 1-2-2 식별자와 변수
- 보통 변수와 식별자를 혼용하는 경우가 많습니다.
- 식별자라고 해야할 곳에 변수를, 변수라고 해야할 곳에 식별자를 쓰는 식으로 말이죠.
- 혼용이 가능한 이유는 대부분의 경우에 문맥에 따라 무엇을 말하고자 하는지를 유추할 수 있기 때문이지만
- 둘의 차이를 모른다면 혼란스러울 수 있다.
<br/>

## 변수
- 변할 수 있는 수
<br/>

## 식별자
- 어떤 데이터를 식별하는데 사용하는 이름, 즉 변수명이다.
<br/>

# 1-3.변수 선언과 데이터 할당

## 1-3-1 변수 선언
- 변수란 변경 가능한 데이터가 담길 수 있는 공간 또는 그릇.
<br/>

## 1-3-2 데이터 할당
```
var a; // 변수 a 선언
a = 'abc'; // 변수 a에 데이터 할당
var a = 'abc'; // 변수 선언과 할당을 한 문장으로 표현
```
- 메모리에서 비어있는 공간을 확보하고 그 공간의 이름을 설정한다.
- 데이터를 저장하기 위한 별도의 메모리 공간을 다시 확보해서 문자열 'abc'를 저장하고,
- 그 주소를 변수 영역에 저장하는 식으로 이뤄진다.
<br/>

### 왜 변수 영역에 값을 직접 대입하지 않고 굳이 번거롭게 한 단계를 더 거칠까?
- 데이터 변환을 자유롭게 할 수 있게 함과 동시에 메모리를 더욱 효율적으로 관리하기 위한 결과.
- 효율적으로 문자열 데이터의 변환을 처리하려면 변수와 데이터를 별도의 공간에 나누어 저장하는 것이 최적이다.
- 즉, 변수 영역의 주소값과 데이터 영역의 주소값이 다른 것.
```
ex) 확보된 공간을 변환된 데이터 크기에 맞게 늘리는 작업
ex) 500개의 변수를 생성해서 모든 변수에 숫자 5를 할당하는 작업
```
<br/>

# 1-4. 기본형 데이터와 참조형 데이터

## 1-4-1 불변값
- 변수와 상수를 구분하는 성질은 '변경 가능성'입니다.
- 바꿀 수 있으면 변수, 바꿀 수 없으면 상수이다.
<br/>

## 불변값 vs 상수
- 불변값과 상수를 같은 개념으로 오해하기 쉬운데, 명확히 구분해야한다.
- 변수와 상수를 구분 짓는 변경 가능성의 대상은 변수 영역 메모리이다.
- 한 번 데이터 할당이 이뤄진 변수 공간에 다른 데이터를 재할당할 수 있는지 여부가 관건이다.
- 반면 불변성 여부를 구분할 때의 변경 가능성의 대상은 데이터 영역 메모리이다.
<br/>

## 불변값
- 기본 데이터인 숫자, 문자열, boolean, null, undefined, symbol은 모두 불변값이다.
- 문자열 값도 한 번 만든 값을 바꿀 수 없고, 숫자 값도 다른 값으로 변경할 수 없다.
<br/>

## 1-4-2 가변값
- 기본형 데이터는 모두 불변값이라고 했으므로, 참조형 데이터는 모두 가변값이다.
- 기본적인 성질은 가변값인 경우가 많지만 설정에 따라 변경 불가능한 경우도 있고, 아예 불변값으로 활용하는 방안도 있다.
- 객체가 별도로 할애한 영역은 변수 영역일 뿐 "데이터 영역"은 기존의 메모리 공간을 그대로 활용.
- 데이터 영억에 저장된 값은 모두 불변값입니다.
- 그러나 변수에는 값을 얼마든지 대입할 수 있습니다.
- 바로 이 부분 때문에 흔히 참조형 데이터는 불변하지 않다(가변값)라고 하는 것이다.
<br/>

## 1-4-3 변수 복사 비교
- 값 복사
    - 자바스크립트는 기본형 데이터(숫자, 문자열, 불리언 등)를 값으로 복사한다.
    - 예를 들어, let a = 10;이라고 하면 a의 값은 10이다.
    - 다른 변수 let b = a;를 만들면 b도 10이 된다. 하지만 a와 b는 서로 다른 메모리 위치에 저장된다.
    - 그래서 a를 20으로 바꿔도 b는 여전히 10이다.
<br/>

- 참조 복사
    - 객체, 배열 등은 참조형 데이터라고 한다. 이건 메모리 주소를 복사한다.
    - 예를 들어, let obj1 = {name: 'Alice'};라고 하고, let obj2 = obj1;라고 하면, obj2는 obj1과 같은 메모리 주소를 가리킨다.
    - 그래서 obj2.name = 'Bob';이라고 하면, obj1의 name도 자동으로 'Bob'으로 바뀐다. 두 변수는 같은 객체를 참조하기 때문이다.
<br/>

- 비교 방법
    - 값 비교: 기본형 데이터는 값 자체를 비교한다. 예를 들어, 10 === 10은 true 이다.
    - 참조 비교: 객체나 배열은 메모리 주소를 비교한다. obj1 === obj2는 true일 때, 두 변수가 같은 객체를 참조하고 있다.
    - 이렇게 자바스크립트에서는 기본형과 참조형 데이터를 다르게 처리하니까, 복사와 비교할 때 주의해야 한다.


# 불변 객체

## 불변 객체란?
- 불변 객체는 한 번 만들어지면 그 상태가 절대 변하지 않는 객체이다. 즉, 객체의 값이나 속성을 변경할 수 없다는 뜻이다.

## 왜 불변 객체를 사용할까?
- 예측 가능성
    - 불변 객체는 상태가 변하지 않기 때문에, 언제 어디서나 객체의 상태를 예측할 수 있다. 코드의 버그를 줄여주는 데 도움이 된다.
- 안전성
    - 여러 개의 코드가 동시에 같은 객체를 다룰 때, 객체가 변경되지 않으니까 서로 영향을 주지 않는다. 그래서 멀티스레드 환경에서도 안전하다.
- 디버깅
    - 상태가 변하지 않으니까, 디버깅할 때 객체가 왜 그렇게 되었는지 추적하기 쉽다.

## 1-5-1 불변 객체를 만드는 간단한 방법
- 새 객체 생성
  - 기존 객체를 수정하는 대신, 새로운 객체를 만들어서 값을 변경하는 방식이다.
  - 예를 들어, 배열의 경우 concat, slice 같은 메서드를 사용해 새로운 배열을 만들고, 원본 배열은 그대로 두는 방법이다.
- 전달인자 방식
  - 어떤 함수가 객체를 인자로 받아서 새로운 객체를 반환하는 방식이 있다. 이렇게 하면 원본 객체는 변하지 않고 새로운 객체가 만들어진다.
<br/>

## 1-5-2 얕은 복사와 깊은 복사
- 얕은 복사
  - 정의: 얕은 복사는 객체를 복사할 때, 객체의 1차원 속성만 복사하고, 객체가 참조하고 있는 내부 객체나 배열은 원본과 동일한 참조를 유지하는 방식입니다.
  - 특징: 얕은 복사된 객체와 원본 객체는 내부의 참조 값이 같기 때문에, 내부의 데이터가 수정되면 두 객체 모두에 영향을 미칠 수 있습니다.
  - 예시: 자바스크립트에서는 Object.assign() 또는 배열의 slice() 메서드를 사용하여 얕은 복사를 할 수 있습니다. 이 방법들은 객체의 1차원 속성만 복사하고, 객체 내부에 있는 참조는 복사하지 않습니다.
<br/>

- 깊은 복사 (Deep Copy)
  - 정의: 깊은 복사는 객체를 복사할 때, 객체의 모든 중첩된 속성까지 모두 새로 복사하는 방식입니다. 즉, 객체 안에 있는 모든 내부 객체나 배열도 새로운 복사본이 만들어집니다.
  - 특징: 깊은 복사된 객체는 원본 객체와 완전히 독립적이어서, 하나의 객체에서 데이터가 수정되어도 다른 객체에는 영향을 미치지 않습니다.
  - 예시: 자바스크립트에서는 JSON.parse(JSON.stringify(object)) 방법을 사용하여 깊은 복사를 할 수 있습니다. 이 방법은 객체를 JSON 문자열로 변환한 후 다시 객체로 변환하여 모든 중첩된 속성까지 복사합니다. 하지만 이 방법은 함수나 undefined, Symbol 값 등을 복사할 수 없습니다.
  - 얕은 복사는 복사 속도가 빠르고, 깊은 복사는 복사 후의 객체가 독립적이지만 시간이 더 걸릴 수 있습니다. 상황에 맞게 적절한 복사 방법을 선택하는 것이 중요합니다.
<br/>

# undefined와 null

## undefined
- 정의
  - undefined는 자바스크립트에서 변수나 객체의 속성이 값이 할당되지 않았을 때 자동으로 할당되는 값입니다. 즉, 정의되지 않았거나 초기화되지 않은 상태를 나타냅니다.
- 특징
    - 변수가 선언만 되고 값이 할당되지 않았을 때 자동으로 undefined가 됩니다.
    - 객체에서 존재하지 않는 속성에 접근할 때도 undefined가 반환됩니다.
    - 함수에서 명시적으로 반환값이 없으면 undefined가 반환됩니다.
<br/>

## null
- 정의
  - null은 명시적으로 "값이 없음"을 나타내기 위해 사용되는 특별한 객체 타입의 값입니다. 변수나 속성에 의도적으로 값이 없음을 명시할 때 사용합니다.
- 특징
    - 변수가 특정 값이 없다는 것을 명시적으로 표현할 때 null을 사용합니다.
    - 일반적으로 초기화 시점에 빈 값을 설정할 때 사용됩니다.
    - null은 객체 타입으로, 자바스크립트에서는 typeof null이 "object"로 반환됩니다.
